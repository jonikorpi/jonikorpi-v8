@charset "utf-8";
@import 'compass';
@import 'reset';


//
// Variables
//

// Typography
$font-size: 16;
$line-height: 22;
  
@mixin elena     { font-family: elena-web-basic, serif; }
@mixin ff-dagny  { font-family: ff-dagny-web-pro, sans-serif; }
@mixin monospace { font-family: Menlo, Consolas, monospace; }

// Colours
$primary-hue:   270;
$secondary-hue: 270 - (360/1.618);

$background:  hsl($primary-hue, 23.6%, 9%);
$highlight:   hsl($primary-hue, 9%, 14.6%);
$purple:      hsl($primary-hue, 23.6%, 14.6%);
$offset:      hsl($primary-hue, 23.6%, 76.4%);

$aside:       hsl($secondary-hue, 2.6%, 38.2%);
$body:        hsl($secondary-hue, 5.6%, 61.8%);
$emphasis:    hsl($secondary-hue, 14.6%, 76.4%);

$link:        hsl($secondary-hue, 38.2%, 61.8%);

// Media queries
$m320: "screen and (min-width: 320px)";


//
// Basic styles
//

body {
  @include elena;
  font-size: em($font-size, 16);
  line-height: lines(1);
  background: $background;
  color: $body;
  -webkit-tap-highlight-color: $link;
}

a {
  color: $link;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  
  &:hover {
    border-bottom-color: $link;
  }
  
  &:active {
    color: $aside;
    border-color: $aside;
  }
}

h1, h2, h3, h4, h5, h6,
strong {
  @include ff-dagny;
  color: $emphasis;
}

code {
  @include monospace;
}

::selection      { background: hsl($primary-hue, 38.2%, 61.8%); color: $emphasis; }
-moz-::selection { background: hsl($primary-hue, 38.2%, 61.8%); color: $emphasis; }


//
// Repeating elements
//

.section {
  position: relative;
  overflow: hidden;
  background: $background;
  z-index: 500;
  min-height: 100%;
}

.canvas {
  position: absolute;
  overflow: hidden;
  left: 0; top: 0; right: 0;
  height: 100%;
  z-index: 1;
  
  .cover-background {
    position: absolute;
    left: 0; top: 0; right: 0; bottom: 0;
    background-repeat: no-repeat;
    background-position: center top;
    background-size: contain;
    background-attachment: fixed;
  }
  
  .scaling-type {
    
  } 
}

.content {
  max-width: rem(30, 16);
  padding: rem(1.618) rem(1);
  margin: 0 auto;
  position: relative;
  z-index: 500;
}


//
// Structure
//

#home {
  
  .canvas {
    background: $purple;
  }
  
  .avatar {
    position: absolute;
    left: 50%; top: 50%;
    width: rem(5);
    margin-top: rem(-2.5);
    margin-left: rem(-2.5);
    
    img {
      width: 100%;
      display: block;
    }
  }
  
  .content {
    background: $background;
    text-align: center;
  }
  
}

$current-work-bg: rgb(245,244,242);
#current-work {
  
  .cover-background {
    background-color: $current-work-bg;
    background-image: url("/images/current-work.jpg");
  }
  
  .content {
    background: lighten($current-work-bg, 14.6%);
  }
  
}

#grid-systems {
  
}

$writing-bg: rgb(255,255,255);
#writing {
  
  .canvas {
    background-color: $writing-bg;
    
    h1 {
      text-align: center;
      font-size: rem(2.618);
      line-height: rem(3);
    }
    
  }
  
}

#about-me {
  
}

  
//
// Old posts
//
  
.old-post {
  max-width: lines(21);
  margin: 0 auto;
  padding: lines(3) lines(1.5) lines(5);
  position: relative;
  
  .date {
    color: $aside;
    font-style: italic;
    display: block;
    margin-bottom: lines(1);
  }
  
  h1 {
    font-size: em(42);
    line-height: lines(2, 42);
    font-style: italic;
  }
  
  .intro {
    margin-top: lines(0.5, 22);
    font-size: em(26);
    line-height: lines(1.25, 22);
    color: $emphasis;
    font-style: italic;
  }
  
  p, ul, ol, pre {
    margin-top: lines(1);
  }
  
  ul, ol {
    margin-left: lines(1);
  }
  
  figure {
    position: relative;
    margin: lines(2) 0;
  }
  
  img {
    max-width: 100%;
  }
  
  figcaption {
    text-align: center;
    color: $aside;
    margin-top: lines(0.5);
  }
  
  pre {
    white-space: pre-wrap;
  }
  
}